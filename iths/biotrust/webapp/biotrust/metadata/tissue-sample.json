{"survey": {
    "layout": "auto",
    "sections": [{
        "title": "Tissue Type Information",
        "header": false,
        "collapsible": false,
        "questions": [
            {
                "extConfig": {
                    "xtype": "displayfield",
                    "name": "studyrecordid",
                    "fieldLabel": "Request ID:",
                    "labelWidth": 175
                }
            },
            {
                "shortCaption": "Tissue Type",
                "extConfig": {
                    "width": 550,
                    "xtype": "combo",
                    "name": "tissuetype",
                    "fieldLabel": "Tissue Type:",
                    "labelWidth": 175,
                    "queryMode": "local",
                    "displayField": "value",
                    "valueField": "value",
                    "emptyText": "Select ...",
                    "editable": false,
                    "matchFieldWidth": false,
                    "store": {
                         "fields": ["value"],
                         "data" : [
                             {"value": "Tumor from primary site"},
                             {"value": "Tumor from metastasis"},
                             {"value": "Normal tissue adjacent to primary site (same organ)"},
                             {"value": "Normal tissue adjacent to metastatic site (same organ)"},
                             {"value": "Normal tissue not adjacent to primary site (same organ)"},
                             {"value": "Normal tissue not adjacent to metastatic site (same organ)"},
                             {"value": "Normal tissue (any organ)"},
                             {"value": "----------------------------------------------------------"},
                             {"value": "Core-needle biopsy from primary site"},
                             {"value": "Core-needle biopsy from metastasis"},
                             {"value": "Punch biopsy"},
                             {"value": "----------------------------------------------------------"},
                             {"value": "Other"}
                         ]
                    }
                }
            },
            {
                "hidden": true,
                "required": true,
            	"extConfig": {
            		"xtype": "textfield",
            		"name": "tissuetypeother",
            		"width": 550,
                    "labelWidth": 175,
	            	"fieldLabel": " ",
                    "emptyText": "Other - please type here to specify"
	            },
                "listeners" : {"change" : {"question" : "tissuetype","fn" : "function(me, cmp, newValue, oldValue, values){ if (me){ me.setVisible(values['tissuetype'] == 'Other'); }} "}}
            },
            {
                "shortCaption": "Anatomical Site",
                "extConfig": {
                    "width": 550,
                    "xtype": "combo",
                    "name": "anatomicalsite",
                    "fieldLabel": "Anatomical Site:",
                    "labelWidth": 175,
                    "queryMode": "local",
                    "displayField": "value",
                    "valueField": "value",
                    "emptyText": "Select ...",
                    "forceSelection": true,
                    "store": {
                         "fields": ["value"],
                         "data" : [
                             {"value": "Any"}, {"value": "--------------------------------------------------------"},
                             {"value": "Adrenal gland"}, {"value": "Anus"}, {"value": "Appendix"}, {"value": "Bladder"},
                             {"value": "Blood vessels"}, {"value": "Bone"}, {"value": "Bone marrow"}, {"value": "Brain"}, {"value": "Breast"},
                             {"value": "Cervix"}, {"value": "Colon"}, {"value": "Colon and rectum"}, {"value": "Ear"}, {"value": "Endometrum"},
                             {"value": "Esophagus"}, {"value": "Eye"}, {"value": "Fallopian tube"}, {"value": "GE junction"}, {"value": "Head and Neck"}, {"value": "Heart"},
                             {"value": "Kidney"}, {"value": "Larynx"}, {"value": "Liver"}, {"value": "Lung"}, {"value": "Lymph node"},
                             {"value": "Mouth"}, {"value": "Muscle"}, {"value": "Nerves"}, {"value": "Nose"}, {"value": "Ovary"}, {"value": "Pancreas"},
                             {"value": "Parathyroid"}, {"value": "Penis"}, {"value": "Pharynx"}, {"value": "Pituitary gland"}, {"value": "Prostate"},
                             {"value": "Rectum"}, {"value": "Skin"}, {"value": "Small intestine"}, {"value": "Soft tissue"}, {"value": "Spinal cord"},
                             {"value": "Spleen"}, {"value": "Stomach"}, {"value": "Testis"}, {"value": "Thymus"}, {"value": "Thyroid gland"},
                             {"value": "Trachea/bronchi"}, {"value": "Ureter"}, {"value": "Urethra"}, {"value": "Uterus"}, {"value": "Vagina"}, {"value": "Vulva"},
                             {"value": "--------------------------------------------------------"}, {"value": "Other"}
                         ]
                    }
                }
            },
            {
                "hidden": true,
                "required": true,
            	"extConfig": {
            		"xtype": "textfield",
            		"name": "anatomicalsiteother",
            		"width": 550,
                    "labelWidth": 175,
	            	"fieldLabel": " ",
                    "emptyText": "Other - please type here to specify"
	            },
                "listeners" : {"change" : {"question" : "anatomicalsite","fn" : "function(me, cmp, newValue, oldValue, values){ if (me){ me.setVisible(values['anatomicalsite'] == 'Other'); }} "}}
            },
            {
                "extConfig": {
                    "xtype": "fieldcontainer",
                    "labelWidth": 175,
                    "fieldLabel": "Minimum Size:",
                    "name": "minimumsizefieldcontainer",
                    "layout": "hbox",
                    "width": 550,
                    "items": [
                        { "xtype": "textfield", "name": "minimumsize", "width": 223 },
                        { "xtype": "label", "width": 5 },
                        {
                            "xtype": "label",
                            "width": 20,
                            "data": {},
                            "tpl": ["<a href='#' tabindex='-1' data-qtip='Please provide three dimensions (e.g., 0.1 x 0.1 x 0.1)'> <img style='margin-top: 4px;' src='{[LABKEY.contextPath]}/_images/info.png' /></a>"]
                        },
                        { "xtype": "label", "width": 20 },
                        {
                            "xtype": "combo", "fieldLabel": "Units:", "name": "minimumsizeunits", "labelWidth": 40, "width": 100,
                            "queryMode": "local", "displayField": "value", "valueField": "value", "forceSelection": true, "editable": false,
                            "store": {
                                 "fields": ["value"],
                                 "data" : [
                                     {"value": "mm"},
                                     {"value": "cm"},
                                     {"value": "gr"}
                                 ]
                            }
                        }
                    ]
                }
            },
            {
                "extConfig": {
                    "xtype": "fieldcontainer",
                    "labelWidth": 175,
                    "fieldLabel": "Preferred Size:",
                    "name": "preferredsizefieldcontainer",
                    "layout": "hbox",
                    "width": 550,
                    "items": [
                        { "xtype": "textfield", "name": "preferredsize", "width": 223 },
                        { "xtype": "label", "width": 5 },
                        {
                            "xtype": "label",
                            "width": 20,
                            "data": {},
                            "tpl": ["<a href='#' tabindex='-1' data-qtip='Please provide three dimensions (e.g., 0.1 x 0.1 x 0.1)'> <img style='margin-top: 4px;' src='{[LABKEY.contextPath]}/_images/info.png' /></a>"]
                        },
                        { "xtype": "label", "width": 20 },
                        {
                            "xtype": "combo", "fieldLabel": "Units:", "name": "preferredsizeunits", "labelWidth": 40, "width": 100,
                            "queryMode": "local", "displayField": "value", "valueField": "value", "forceSelection": true, "editable": false,
                            "store": {
                                 "fields": ["value"],
                                 "data" : [
                                     {"value": "mm"},
                                     {"value": "cm"},
                                     {"value": "gr"}
                                 ]
                            }
                        }
                    ]
                }
            },
            {
                "shortCaption": "Preservation",
                "extConfig": {
                    "width": 550,
                    "xtype": "combo",
                    "name": "preservation",
                    "fieldLabel": "Preservation:",
                    "labelWidth": 175,
                    "queryMode": "local",
                    "displayField": "value",
                    "valueField": "value",
                    "emptyText": "Select...",
                    "forceSelection": true,
                    "store": {
                         "fields": ["value"],
                         "data" : [
                             {"value": "AIM-V"},
                             {"value": "DMEM:F12"},
                             {"value": "Flash Frozen"},
                             {"value": "Formalin"},
                             {"value": "Frozen Block (OCT)"},
                             {"value": "HEPES"},
                             {"value": "Hibernate A"},
                             {"value": "RNA Later"},
                             {"value": "RPMI"},
                             {"value": "Saline"},
                             {"value": "TIL"},
                             {"value": "Other"}
                         ]
                    }
                }
            },
            {
                "hidden": true,
                "required": true,
            	"extConfig": {
            		"xtype": "textfield",
            		"name": "preservationother",
            		"width": 550,
                    "labelWidth": 175,
	            	"fieldLabel": " ",
                    "emptyText": "Other - please type here to specify"
	            },
                "listeners" : {"change" : {"question" : "preservation","fn" : "function(me, cmp, newValue, oldValue, values){ if (me){ me.setVisible(values['preservation'] == 'Other'); }} "}}
            },
            {
                "hidden": true,
                "extConfig": {
                    "xtype": "radiogroup",
                    "labelWidth": 175,
                    "width": 325,
                    "name": "tissuerequireserialradio",
                    "fieldLabel": "Do you need serial samples?",
                    "columns": 2,
                    "items": [
                        { "boxLabel": "Yes", "name": "tissuerequireserial", "inputValue": true },
                        { "boxLabel": "No", "name": "tissuerequireserial", "inputValue": false }
                    ]
                },
                "listeners" : { "change" : { "question" : "tissuetype", "fn" : "function(me, cmp, newValue, oldValue, values){ if (me) me.setVisible(values['tissuetype'] == 'Core-needle biopsy from primary site' || values['tissuetype'] == 'Core-needle biopsy from metastasis' || values['tissuetype'] == 'Punch biopsy');} " }}
            },
            {
                "hidden": true,
                "extConfig": {
                    "xtype": "numberfield",
                    "width": 325,
                    "labelWidth": 175,
                    "fieldLabel": "Number of samples per case:",
                    "name": "samplespercase",
                    "allowDecimals": false,
                    "minValue": 0
                },
                "listeners" : { "change" : { "question" : "tissuetype", "fn" : "function(me, cmp, newValue, oldValue, values){ if (me) me.setVisible(values['tissuetype'] == 'Core-needle biopsy from primary site' || values['tissuetype'] == 'Core-needle biopsy from metastasis' || values['tissuetype'] == 'Punch biopsy');} " }}
            },
            {
                "extConfig": {
                    "xtype": "textarea",
                    "name": "notes",
                    "width": 550,
                    "labelWidth": 175,
                    "height": 60,
                    "fieldLabel": "Notes:"
                }
            }
        ]
    }]
}}